var q=Object.defineProperty;var G=(h,n,c)=>n in h?q(h,n,{enumerable:!0,configurable:!0,writable:!0,value:c}):h[n]=c;var r=(h,n,c)=>(G(h,typeof n!="symbol"?n+"":n,c),c);import{d as H,r as v,p as K,c as f,w as l,b as a,o as u,e as o,q as U,s as S,v as g,k as C,g as I,x as J,y as b,z as D,F as _,l as Q,m as W,f as X,t as y,i as x}from"./index-bd6c0655.js";import{_ as Y}from"./PageNameLogoHeader.vue_vue_type_script_setup_true_lang-6e5ab206.js";import{g as Z}from"./axios-228aacf7.js";import"./axios-17bef652.js";const le=H({__name:"TransactionPage",setup(h){class n{constructor(e,s,A,m,L,P,B,F,E,R,O,V,$,j){r(this,"serialNumber");r(this,"macAddress");r(this,"cid");r(this,"mid");r(this,"storeName");r(this,"department");r(this,"tid");r(this,"pStation");r(this,"register");r(this,"ipAddress");r(this,"itLabelID");r(this,"itAssetID");r(this,"status");r(this,"statusNotes");this.serialNumber=e,this.macAddress=s,this.cid=A,this.mid=m,this.storeName=L,this.department=P,this.tid=B,this.pStation=F,this.register=E,this.ipAddress=R,this.itLabelID=O,this.itAssetID=V,this.status=$,this.statusNotes=j}getFieldsToDisplay(){let e=[];for(var s of d.value)switch(s){case"Serial":e.push(this.serialNumber);break;case"Mac Address":e.push(this.macAddress);break;case"CID":e.push(this.cid);break;case"MID":e.push(this.mid);break;case"Store":e.push(this.storeName);break;case"Department":e.push(this.department);break;case"TID":e.push(this.tid);break;case"PStation":e.push(this.pStation);break;case"Register":e.push(this.register);break;case"IP Address":e.push(this.ipAddress);break;case"IT Label ID":e.push(this.itLabelID);break;case"IT Asset ID":e.push(this.itAssetID);break;case"Status":e.push(this.status);break;case"Status Notes":e.push(this.statusNotes);break}return e}}const c=v();async function N(){try{const t=await Z.get("/devices/");let e=[];t.data.forEach(s=>{e.push(new n(s.serial,s.MAC,s.cid,s.mid,s.store,s.department,s.tid,s.pstation,s.register,s.ip,s.labelid,s.itassetid,s.status,s.statusnotes))}),c.value=e}catch(t){console.error(t)}}N();let d=v(["Serial","Mac Address","CID","MID","Store"]);const k=K(()=>(12/d.value.length).toString()),p=new Map;function T(){p.clear()}const w=[{text:"CANCEL",role:"cancel",handler:()=>{p.forEach((t,e)=>{t.checked=d.value.includes(e)})}},{text:"OK",role:"confirm",handler:()=>{var t=[];for(var e of d.value)p.has(e)||t.push(e);for(var s of p.values())s.checked&&!d.value.includes(s.label)&&t.push(s.label);d.value=t}}];function M(t){var e=d.value.includes(t.label);t.checked&&!e||!t.checked&&e?p.set(t.label,t):p.delete(t.label)}function i(t,e){return{type:"checkbox",label:t,checked:e,handler:M}}const z=[i("Serial",!0),i("Mac Address",!0),i("CID",!0),i("MID",!0),i("Store",!0),i("Department",!1),i("TID",!1),i("PStation",!1),i("Register",!1),i("IP Address",!1),i("IT Label ID",!1),i("IT Asset ID",!1),i("Status",!1),i("Status Notes",!1)];return(t,e)=>(u(),f(a(W),null,{default:l(()=>[o(Y,{"page-name":"Transactions"}),o(a(Q),null,{default:l(()=>[o(a(U),{fixed:!0},{default:l(()=>[o(a(S),null,{default:l(()=>[o(a(g),{class:"ion-text-center"},{default:l(()=>[o(a(C),{id:"columnsAlert",color:"medium"},{default:l(()=>[I(" COLUMNS ")]),_:1}),o(a(J),{trigger:"columnsAlert",header:"Select the columns to display",buttons:w,inputs:z,onDidDismiss:e[0]||(e[0]=s=>T())})]),_:1}),o(a(g),{class:"ion-text-center"},{default:l(()=>[o(a(C),{color:"medium"},{default:l(()=>[I(" SORT ")]),_:1})]),_:1})]),_:1}),o(a(S),{class:"devices-row ion-text-center"},{default:l(()=>[(u(!0),b(_,null,D(a(d),s=>(u(),f(a(g),{class:"devices-column-border devices-column-top",size:k.value},{default:l(()=>[X("b",null,y(s),1)]),_:2},1032,["size"]))),256))]),_:1}),(u(!0),b(_,null,D(c.value,(s,A)=>(u(),f(a(S),{class:"devices-row ion-text-center"},{default:l(()=>[A%2==0?(u(!0),b(_,{key:0},D(s.getFieldsToDisplay(),m=>(u(),f(a(g),{size:k.value,class:"devices-column-border",style:{"background-color":"darkgray"}},{default:l(()=>[o(a(x),{color:"light"},{default:l(()=>[I(y(m),1)]),_:2},1024)]),_:2},1032,["size"]))),256)):(u(!0),b(_,{key:1},D(s.getFieldsToDisplay(),m=>(u(),f(a(g),{size:k.value,class:"devices-column-border",style:{"background-color":"lightgray"}},{default:l(()=>[o(a(x),{color:"light"},{default:l(()=>[I(y(m),1)]),_:2},1024)]),_:2},1032,["size"]))),256))]),_:2},1024))),256))]),_:1})]),_:1})]),_:1}))}});export{le as default};
